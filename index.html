<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Angelina's Love Sanctuary 💗</title>
  <link rel="manifest" href="manifest.json" />
  <meta name="theme-color" content="#ff8fab" />
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #ffd6e0;
      color: #333;
      max-width: 800px;
      margin: 0 auto;
      padding: 20px;
    }
    h1, h2 {
      color: #c9184a;
      text-align: center;
    }
    section {
      background: #fff;
      border-radius: 12px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
      padding: 20px;
      margin-bottom: 20px;
    }
    .btns {
      display: flex;
      justify-content: center;
      gap: 10px;
      flex-wrap: wrap;
    }
    button {
      background: #ff8fab;
      border: none;
      color: #fff;
      padding: 10px 20px;
      border-radius: 25px;
      font-size: 16px;
      cursor: pointer;
      transition: 0.3s;
    }
    button:hover {
      transform: scale(1.05);
      opacity: 0.9;
    }
    input, textarea {
      width: 100%;
      padding: 11px;
      border-radius: 6px;
      border: 1px solid #ddd;
      margin: 10px 0;
      box-sizing: border-box;
    }
    #mood-response,
    #pregnancy-facts,
    #output,
    #baby-names-list,
    #note-list {
      background: #ffe5ec;
      padding: 15px;
      border-radius: 8px;
      color: #c9184a;
      margin-top: 10px;
    }
    ul {
      list-style: none;
      padding: 0;
    }
    li {
      background: #ffd6e0;
      padding: 10px;
      margin-bottom: 5px;
      display: flex;
      justify-content: space-between;
      border-radius: 5px;
    }
    li button { font-size:12px; background:#c9184a; }
  </style>
</head>
<body>
  <h1>Angelina’s Love Sanctuary</h1>

  <!-- Mood -->
  <section>
    <h2>🧘 How are you feeling today?</h2>
    <div class="btns">
      <button onclick="logMood('happy')">😊 Happy</button>
      <button onclick="logMood('relaxed')">🌿 Relaxed</button>
      <button onclick="logMood('tired')">😩 Tired</button>
      <button onclick="logMood('sleepy')">😴 Sleepy</button>
    </div>
    <div id="mood-response"></div>
  </section>

  <!-- Pregnancy -->
  <section>
    <h2>🤰 Pregnancy Update (12 weeks 1 day)</h2>
    <div id="pregnancy-facts">
      <p>👶 Your baby is the size of a peach!</p>
      <ul>
        <li>🔍 Unique fingerprints are forming.</li>
        <li>👂 They can hear your voice.</li>
        <li>🦴 Bones are getting stronger.</li>
        <li>💓 Heartbeat around 160 bpm.</li>
      </ul>
    </div>
  </section>

  <!-- Baby Names -->
  <section>
    <h2>👶 Baby Name Ideas</h2>
    <input type="text" id="name-input" placeholder="Suggest a name..."/>
    <div class="btns"><button onclick="addBabyName()">Add Name</button></div>
    <div id="baby-names-list"></div>
  </section>

  <!-- Love Notes -->
  <section>
    <h2>💖 Love Notes</h2>
    <textarea id="note-input" placeholder="Write a note..."></textarea>
    <div class="btns"><button onclick="saveNote()">Save Note</button></div>
    <div id="note-list"></div>
  </section>

  <!-- Surprise Message -->
  <section>
    <h2>🎁 Surprise from Hussam</h2>
    <div class="btns"><button onclick="showMessage()">Show Me Love</button></div>
    <div id="output"></div>
  </section>

  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>
  <script>
    const moodMsgs = {
      happy: ["That smile lights up everything! 😊","Seeing you happy warms my heart 💓","Your joy is contagious!"],
      relaxed: ["Take this calm moment to breathe deeply 🌿","You deserve peace — let me handle it all.","Enjoy the serenity, my love."],
      tired: ["Growing our baby is hard work — rest now 💤","Let me pamper you today.","You’re incredible; take a break 🤗"],
      sleepy: ["Drift into beautiful dreams 😴","May your sleep bring calm and warmth.","Sweet dreams, my darling."]
    };

    function logMood(mood) {
      const arr = moodMsgs[mood];
      document.getElementById('mood-response').textContent = arr[Math.floor(Math.random() * arr.length)];
    }

    const surpriseMsgs = [
      "I whispered your name in my prayers.",
      "Ya xate ti, only little.",
      "You carry our child like a warrior.",
      "Let's slow-dance tonight 💃",
      "I'd choose you in every lifetime.",
      "Your laugh is my favorite melody.",
      "You're already the perfect mother.",
      "I fall in love with you over and over.",
      "Theodore misses you... me too!",
      "Even on your worst days, you’re still my dream."
    ];
    function showMessage() {
      document.getElementById('output').textContent = surpriseMsgs[Math.floor(Math.random() * surpriseMsgs.length)];
      confetti({ particleCount: 100, spread: 70 });
    }

    function renderList(key, containerId, renderFn) {
      const list = JSON.parse(localStorage.getItem(key) || '[]');
      const div = document.getElementById(containerId);
      if (!list.length) { div.innerHTML = "<p>Nothing yet.</p>"; return; }
      div.innerHTML = '<ul>' + list.map((item, i) => renderFn(item, i)).join('') + '</ul>';
    }

    function addBabyName() {
      const input = document.getElementById('name-input');
      const v = input.value.trim(); if (!v) return;
      const arr = JSON.parse(localStorage.getItem('babyNames')||'[]');
      arr.push(v); localStorage.setItem('babyNames', JSON.stringify(arr));
      input.value=''; renderList('babyNames','baby-names-list',(n,i)=>`<li>${n}<button onclick="delItem('babyNames','baby-names-list',${i})">Delete</button></li>`);
    }

    function saveNote() {
      const input = document.getElementById('note-input');
      const v = input.value.trim(); if(!v)return;
      const arr = JSON.parse(localStorage.getItem('angelinaNotes')||'[]');
      arr.push({text:v,date:new Date().toLocaleDateString()});
      localStorage.setItem('angelinaNotes', JSON.stringify(arr));
      input.value=''; renderList('angelinaNotes','note-list',(n,i)=>`<li><strong>${n.date}:</strong> ${n.text}<button onclick="delItem('angelinaNotes','note-list',${i})">Delete</button></li>`);
    }

    function delItem(key, containerId, index) {
      const arr = JSON.parse(localStorage.getItem(key)||'[]');
      arr.splice(index,1);
      localStorage.setItem(key, JSON.stringify(arr));
      renderList(key,containerId, key==='angelinaNotes'
        ? (n,i)=>`<li><strong>${n.date}:</strong> ${n.text}<button onclick="delItem('${key}','${containerId}',${i})">Delete</button></li>`
        : (n,i)=>`<li>${n}<button onclick="delItem('${key}','${containerId}',${i})">Delete</button></li>`
      );
    }

    window.onload = () => {
      renderList('babyNames','baby-names-list',(n,i)=>`<li>${n}<button onclick="delItem('babyNames','baby-names-list',${i})">Delete</button></li>`);
      renderList('angelinaNotes','note-list',(n,i)=>`<li><strong>${n.date}:</strong> ${n.text}<button onclick="delItem('angelinaNotes','note-list',${i})">Delete</button></li>`);
      if('serviceWorker' in navigator) {
        navigator.serviceWorker.register('sw.js').catch(console.error);
      }
    }
  </script>
</body>
</html>
